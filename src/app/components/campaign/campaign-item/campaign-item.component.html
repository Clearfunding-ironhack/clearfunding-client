<app-navbar></app-navbar>

<div class="ui raised very padded text container segment" id='campaign-main-container'>
    <div class="ui padded container" id='image-container'>
        <img class="ui fluid image" [src]="campaign.image" *ngIf="campaign.image" >
        <a class="ui blue tag label" id="campaign-category">{{campaign.categories}} </a>
        <a class="ui blue image basic label" id='campaign-creator'> </a>
    

  <h1 class='ui centered header'>{{ campaign.title }}</h1>

  <p id='description'>{{ campaign.description }}</p>
  <div [hidden]="!chart">
      <canvas id='canvas' width="800" height="500"> {{ chart }} </canvas>
  </div>


  <div class="ui labeled button" tabindex="0">
      <div class="ui red button" (click)='followCampaign(campaign.id)' >
        <a id='like'><i class="heart icon"></i> Like </a>
      </div>
      <a class="ui basic red left pointing label">
        {{ campaign.followers.length}}
      </a>
  </div>

    

  <div class="ui four statistics">
    <div class="pink tiny statistic">
      <div class="value">
        <i class="dollar icon"></i> {{ campaign.amountRaised }}
      </div>
      <div class="label">
        Amount raised
      </div>
    </div>
    <div class="grey tiny statistic">
        <div class="value">
          <i class="dollar icon"></i> {{ campaign.target }}
        </div>
        <div class="label">
         Target
        </div>
      </div>


    <div class="blue tiny statistic" id="stats">
      <div class="value">
        {{campaign.backers.length}}
        <i class="users icon"></i>
      </div>
      <div class="label">
        Backers
      </div>
    </div>
    <div class="grey statistic">
      <div class="value">
        <i class="bell outline icon"></i> 
      </div>
      <div class="label">
          {{ campaign.dueDate  | date :'short' }}
      </div>
    </div>
  </div>

<div class="ui success message"*ngIf="campaign.isAchieved">
  Campaign was achieved! Thank you! :)
</div>

<div class="ui success message"*ngIf="campaign.isCompleted">
    Campaign has finished! Contributions can no longer be made.
  </div>



  <button *ngIf="!campaign.isCompleted" class="ui basic blue button" id="donate-button" (click)='toggleVisibilityInputPayment()'>
      <i class="paypal icon"></i> DONATE NOW!
  </button>

  <form (ngSubmit)="makePayment(campaign.id, paymentForm)" #paymentForm="ngForm" *ngIf="inputPaymentOpened">
    <div class="ui right labeled input" id='currency-input'>
      <label for="amount" class="ui label">$</label>
      <input [(ngModel)]="amount" type="text" placeholder="Amount" name='amount' id="amount">
      <div class="ui basic label">.00</div>
    </div>
    <button class="ui basic blue button" id="paypal-button" type="submit">Go to paypal</button>

  </form>



  <ul class="ui ten wide column horizontal list" id='icon-list'>

  
  

  </ul>

</div>
 
